<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>V2L Dashboard</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: black;
    color: white;
    text-align: center;
  }
  h1 { color: cyan; margin: 20px 0; }
  input, button { margin: 10px; padding: 10px; font-size: 16px; border-radius: 5px; border: none; }
  button { cursor: pointer; background: cyan; font-weight: bold; }
  table { width: 80%; margin: 20px auto; border-collapse: collapse; }
  th, td { padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.3); }
  th { background: rgba(0,255,255,0.2); }
</style>
</head>
<body>

<h1>ðŸŒŒ V2L Dashboard</h1>

<input type="file" id="fileInput">
<button onclick="processFile()">Start</button>
<br>
<button onclick="filterTable('Yes')">V2L: Yes</button>
<button onclick="filterTable('No')">V2L: No</button>
<button onclick="filterTable('All')">Show All</button>

<table id="dataTable">
  <thead>
    <tr>
      <th>Username</th>
      <th>Skins</th>
      <th>V2L</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
let accounts = [];

function processFile() {
  const file = document.getElementById('fileInput').files[0];
  if (!file) { alert('Please select a file'); return; }

  const reader = new FileReader();
  reader.onload = function(e) {
    const lines = e.target.result.split('\n');
    accounts = [];

    lines.forEach(line => {
      // Expecting format: Username | Rank | Skins | Location | Level | V2L
      const parts = line.split('|').map(p => p.trim());
      if (parts.length >= 6) {
        accounts.push({
          username: parts[0],
          skins: parts[2],
          v2l: parts[5]
        });
      }
    });

    renderTable(accounts);
  };
  reader.readAsText(file);
}

function renderTable(data) {
  const tbody = document.querySelector('#dataTable tbody');
  tbody.innerHTML = '';
  data.forEach(acc => {
    const row = document.createElement('tr');
    row.innerHTML = `<td>${acc.username}</td><td>${acc.skins}</td><td>${acc.v2l}</td>`;
    tbody.appendChild(row);
  });
}

function filterTable(type) {
  if (type === 'All') renderTable(accounts);
  else renderTable(accounts.filter(acc => acc.v2l === type));
}
</script>

</body>
</html>